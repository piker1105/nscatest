<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¨¡çµ„åŒ–è¨“ç·´ç³»çµ± | V6 è¡Œå‹•å„ªåŒ–ç‰ˆ</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --accent: #3b82f6;
            --bg: #f8fafc;
            --white: #ffffff;
            --text-main: #334155;
            --text-light: #64748b;
            --border: #e2e8f0;
            --danger: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --sidebar-width: 260px;
        }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* --- 1. éŸ¿æ‡‰å¼å´é‚Šæ¬„ (Sidebar / Drawer) --- */
        aside {
            width: var(--sidebar-width);
            background: var(--primary);
            color: white;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            height: 100%;
            position: relative;
            z-index: 200;
            transition: transform 0.3s ease;
        }

        /* æ‰‹æ©Ÿç‰ˆé®ç½© */
        .sidebar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 150;
            display: none; opacity: 0; transition: opacity 0.3s;
        }

        .brand {
            padding: 20px;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between; /* æ‰‹æ©Ÿç‰ˆè¦æ”¾é—œé–‰éˆ• */
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .nav-menu { padding: 15px; flex: 1; overflow-y: auto; }
        .nav-item {
            display: flex; align-items: center; gap: 15px;
            padding: 12px 15px; margin-bottom: 5px;
            color: #94a3b8; text-decoration: none;
            border-radius: 10px; cursor: pointer; transition: 0.2s;
        }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: white; }
        .nav-item.active { background: var(--accent); color: white; }

        /* Sidebar Widget */
        .sidebar-widget {
            margin: 15px; padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px; font-size: 0.85em;
        }

        /* --- 2. ä¸»å…§å®¹å€ --- */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            width: 100%;
            overflow: hidden; /* è®“å…§éƒ¨æ²å‹• */
        }

        /* é ‚éƒ¨å°è¦½åˆ— (Header) */
        .top-bar {
            background: var(--white);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            flex-shrink: 0;
        }
        .menu-toggle-btn {
            display: none; /* é›»è…¦ç‰ˆéš±è— */
            background: none; border: none; cursor: pointer;
            color: var(--primary); padding: 0; margin-right: 15px;
        }

        .content-scroll-area {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            -webkit-overflow-scrolling: touch; /* iOS æ»¾å‹•å„ªåŒ– */
        }

        /* RWD Components */
        .btn { padding: 8px 14px; border-radius: 8px; border: none; font-weight: 600; display: inline-flex; align-items: center; gap: 5px; font-size: 0.9em; white-space: nowrap; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-outline { background: white; border: 1px solid #cbd5e1; color: var(--text-main); }

        /* Timeline (Dashboard) */
        .timeline-item {
            display: flex; gap: 15px; padding: 15px;
            background: white; border-radius: 12px; margin-bottom: 15px;
            border-left: 5px solid var(--accent); box-shadow: 0 2px 5px rgba(0,0,0,0.03);
            align-items: center;
        }
        .time-box { font-weight: bold; font-size: 1.1em; color: var(--primary); min-width: 60px; }

        /* Student Grid */
        .student-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }
        .student-card {
            background: white; border-radius: 12px; padding: 15px;
            border: 1px solid var(--border); position: relative;
        }

        /* Profile & Metrics */
        .profile-header { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid var(--border); }
        .metrics-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;
            margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border);
        }
        .metric-box { text-align: center; }
        .metric-val { font-size: 1.3em; font-weight: bold; color: var(--primary); }
        .metric-label { font-size: 0.8em; color: var(--text-light); }

        /* Calendar */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; background: white; padding: 10px; border-radius: 0 0 12px 12px; border: 1px solid var(--border); }
        .cal-header { text-align: center; font-size: 0.8em; color: var(--text-light); padding-bottom: 5px; }
        .cal-day {
            min-height: 80px; border: 1px solid #f1f5f9; border-radius: 6px;
            padding: 5px; position: relative; font-size: 0.8em;
        }
        .workout-dot {
            background: #e0f2fe; color: #0284c7; padding: 2px 4px;
            border-radius: 3px; font-size: 0.75em; margin-top: 2px;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block;
        }

        /* Slide Editor */
        .editor-panel {
            position: fixed; top: 0; right: -100%; width: 600px; height: 100%;
            background: white; z-index: 300; transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex; flex-direction: column; box-shadow: -5px 0 25px rgba(0,0,0,0.2);
        }
        .editor-panel.open { right: 0; }

        /* --- ğŸ“± Mobile Media Queries (é—œéµä¿®æ­£) --- */
        @media (max-width: 768px) {
            /* éš±è— Sidebar */
            aside {
                position: fixed; left: 0; top: 0; bottom: 0;
                transform: translateX(-100%); /* é è¨­ç§»å‡ºç•«é¢ */
                box-shadow: 5px 0 15px rgba(0,0,0,0.1);
            }
            aside.active { transform: translateX(0); } /* æ»‘å…¥ */
            
            .sidebar-overlay.active { display: block; opacity: 1; }
            .menu-toggle-btn { display: block; } /* é¡¯ç¤ºæ¼¢å ¡æŒ‰éˆ• */
            
            /* èª¿æ•´å…§è· */
            .content-scroll-area { padding: 15px; }
            
            /* Profile èª¿æ•´ */
            .profile-top-row { flex-direction: column; gap: 10px; }
            .profile-top-row > div { text-align: left !important; }
            
            /* Metrics è®Š 2x2 */
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
            
            /* æ—¥æ›†ç¸®å°å­—é«” */
            .cal-day { min-height: 60px; font-size: 0.75em; }
            .workout-dot { font-size: 0.7em; padding: 1px 2px; }
            
            /* ç·¨è¼¯å™¨å…¨è¢å¹• */
            .editor-panel { width: 100%; }
        }
    </style>
</head>
<body>

    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <aside id="sidebar">
        <div class="brand">
            <span style="display:flex; align-items:center; gap:10px;">
                <span class="material-icons">fitness_center</span> æ¨¡çµ„åŒ–è¨“ç·´
            </span>
            <span class="material-icons" style="cursor:pointer; opacity:0.7;" onclick="toggleSidebar()">close</span>
        </div>
        
        <div class="sidebar-widget">
            <div style="font-weight:bold; color:#cbd5e1; margin-bottom:10px; display:flex; justify-content:space-between;">
                <span>ğŸ“… ä»Šæ—¥æé†’</span>
                <span style="color:var(--accent)">11/21</span>
            </div>
            <div style="margin-bottom:8px; color:#cbd5e1;">
                <span class="material-icons" style="font-size:14px; vertical-align:text-top;">schedule</span> 3 å ‚èª²ç¨‹
            </div>
            <div style="margin-bottom:8px; color:#cbd5e1;">
                <span class="material-icons" style="font-size:14px; vertical-align:text-top;">place</span> å°åŒ—å¤§å®‰é¤¨
            </div>
        </div>

        <nav class="nav-menu">
            <div class="nav-item active" onclick="navTo('dashboard', this)">
                <span class="material-icons">dashboard</span> å„€è¡¨æ¿
            </div>
            <div class="nav-item" onclick="navTo('students', this)">
                <span class="material-icons">people</span> å­¸å“¡ç®¡ç†
            </div>
            <div class="nav-item" onclick="alert('åŠŸèƒ½é–‹ç™¼ä¸­')">
                <span class="material-icons">inventory_2</span> å‹•ä½œè³‡æ–™åº«
            </div>
        </nav>
    </aside>

    <main>
        <div class="top-bar">
            <div style="display:flex; align-items:center;">
                <button class="menu-toggle-btn" onclick="toggleSidebar()">
                    <span class="material-icons">menu</span>
                </button>
                <h2 style="margin:0; font-size:1.1em;">Dashboard</h2>
            </div>
            <button class="btn btn-primary btn-sm">+ å¿«é€Ÿæ–°å¢</button>
        </div>

        <div class="content-scroll-area">
            
            <div id="page-dashboard" class="page-view active" style="display:block;">
                <h3 style="margin:0 0 15px 0;">ä»Šæ—¥è¡Œç¨‹</h3>
                
                <div class="timeline-item">
                    <div class="time-box">09:00</div>
                    <div style="flex:1">
                        <div style="font-weight:bold;">ç‹å°æ˜ - ä¸‹è‚¢è‚ŒåŠ›</div>
                        <div style="color:var(--text-light); font-size:0.85em;">å°åŒ—å¤§å®‰é¤¨</div>
                    </div>
                    <button class="btn btn-outline">æŸ¥çœ‹</button>
                </div>

                <div class="timeline-item" style="border-left-color:var(--warning)">
                    <div class="time-box">14:00</div>
                    <div style="flex:1">
                        <div style="font-weight:bold;">é™³ç¾éº— - æ ¸å¿ƒ</div>
                        <div style="color:var(--text-light); font-size:0.85em;">ç§äººå·¥ä½œå®¤</div>
                    </div>
                    <button class="btn btn-outline">æŸ¥çœ‹</button>
                </div>
                
                <div class="timeline-item" style="border-left-color:var(--success)">
                    <div class="time-box">19:30</div>
                    <div style="flex:1">
                        <div style="font-weight:bold;">æ—å¤§å±± - çˆ†ç™¼åŠ›</div>
                        <div style="color:var(--text-light); font-size:0.85em;">å¸‚æ°‘é‹å‹•ä¸­å¿ƒ</div>
                    </div>
                    <button class="btn btn-outline">æŸ¥çœ‹</button>
                </div>
            </div>

            <div id="page-students" class="page-view" style="display:none;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <h3 style="margin:0;">å­¸å“¡ç®¡ç†</h3>
                </div>
                <input type="text" placeholder="ğŸ” æœå°‹å­¸å“¡..." style="width:100%; padding:10px; border:1px solid #e2e8f0; border-radius:8px; margin-bottom:15px; box-sizing:border-box;">
                
                <div class="student-grid" id="student-list-container">
                    </div>
            </div>

            <div id="page-student-detail" class="page-view" style="display:none;">
                <button class="btn btn-outline" onclick="navTo('students')" style="margin-bottom:15px;">
                    <span class="material-icons" style="font-size:16px;">arrow_back</span> è¿”å›åˆ—è¡¨
                </button>

                <div class="profile-header">
                    <div class="profile-top-row" style="display:flex; justify-content:space-between; align-items:flex-start;">
                        <div>
                            <h2 style="margin:0; color:var(--primary);" id="p-name">ç‹å°æ˜</h2>
                            <p style="color:var(--text-light); margin:5px 0; font-size:0.9em;">ç›®æ¨™ï¼š<span id="p-goal">å¢è‚Œ</span></p>
                        </div>
                        <div style="text-align:right; font-size:0.8em; color:var(--text-light);">
                            <span style="background:#e0f2fe; color:#0369a1; padding:3px 8px; border-radius:10px; font-weight:bold;">å‰©é¤˜ 45 å¤©</span>
                        </div>
                    </div>
                    
                    <div class="metrics-grid">
                        <div class="metric-box">
                            <div class="metric-val" id="m-weight">72.5</div>
                            <div class="metric-label">é«”é‡</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-val" id="m-pbf">18.5%</div>
                            <div class="metric-label">é«”è„‚</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-val" id="m-smm">34.2</div>
                            <div class="metric-label">è‚Œè‚‰é‡</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-val">23.4</div>
                            <div class="metric-label">BMI</div>
                        </div>
                    </div>
                </div>

                <h4 style="margin:0 0 10px 0;">ğŸ“… 11æœˆ èª²è¡¨</h4>
                <div class="calendar-grid">
                    <div class="cal-header">ä¸€</div><div class="cal-header">äºŒ</div><div class="cal-header">ä¸‰</div>
                    <div class="cal-header">å››</div><div class="cal-header">äº”</div><div class="cal-header">å…­</div><div class="cal-header">æ—¥</div>
                    <div id="calendar-days" style="display:contents;"></div>
                </div>
            </div>

        </div>
    </main>

    <div id="workout-editor" class="editor-panel">
        <div style="padding:15px; background:var(--primary); color:white; display:flex; justify-content:space-between; align-items:center;">
            <h3 style="margin:0; font-size:1em;" id="editor-date">è¨“ç·´èª²è¡¨</h3>
            <button class="btn btn-outline" onclick="closeEditor()" style="color:black; padding:5px 10px;">é—œé–‰</button>
        </div>
        <div style="padding:20px; overflow-y:auto; flex:1;">
            <div style="background:#f1f5f9; padding:15px; border-radius:8px; margin-bottom:15px;">
                <strong>ğŸ‹ï¸ ä¸»è¦è¨“ç·´æ¨¡çµ„</strong>
                <div style="background:white; padding:10px; margin-top:10px; border-radius:6px; font-size:0.9em;">
                    <div>èƒŒæ§“æ·±è¹²</div>
                    <div style="color:gray; font-size:0.9em;">4 çµ„ x 6 ä¸‹ @ RPE 8</div>
                </div>
            </div>
            <button class="btn btn-primary" style="width:100%; padding:12px;">å„²å­˜è®Šæ›´</button>
        </div>
    </div>

<script>
    // --- å´é‚Šæ¬„é–‹é—œé‚è¼¯ (Mobile) ---
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.querySelector('.sidebar-overlay');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
    }

    // --- å°è¦½é‚è¼¯ ---
    function navTo(pageId, el) {
        // é—œé–‰æ‰‹æ©Ÿå´é‚Šæ¬„
        if(window.innerWidth <= 768) {
            toggleSidebar();
        }

        // Sidebar UI update
        if(el) {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }
        
        // Page Switch
        document.querySelectorAll('.page-view').forEach(p => p.style.display = 'none');
        document.getElementById(`page-${pageId}`).style.display = 'block';

        if(pageId === 'students') renderStudentList();
    }

    // --- æ¸²æŸ“å­¸å“¡åˆ—è¡¨ ---
    const students = [
        { id: 1, name: 'ç‹å°æ˜', goal: 'å¢è‚Œ', metrics: { weight: 72.5, pbf: '18.5%', smm: 34.2 } },
        { id: 2, name: 'é™³ç¾éº—', goal: 'æ¸›è„‚', metrics: { weight: 54.0, pbf: '24.0%', smm: 21.5 } },
    ];

    function renderStudentList() {
        const container = document.getElementById('student-list-container');
        container.innerHTML = '';
        students.forEach(stu => {
            container.innerHTML += `
                <div class="student-card" onclick="openStudentDetail(${stu.id})">
                    <div style="display:flex; align-items:center; gap:15px;">
                        <div style="width:45px; height:45px; background:#f1f5f9; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold;">${stu.name[0]}</div>
                        <div>
                            <div style="font-weight:bold;">${stu.name}</div>
                            <div style="font-size:0.85em; color:#64748b;">${stu.goal}</div>
                        </div>
                    </div>
                </div>
            `;
        });
    }

    function openStudentDetail(id) {
        const stu = students.find(s => s.id === id);
        document.getElementById('p-name').innerText = stu.name;
        document.getElementById('p-goal').innerText = stu.goal;
        // Metrics update...
        
        // æ¨¡æ“¬æ—¥æ›†
        const calContainer = document.getElementById('calendar-days');
        calContainer.innerHTML = '';
        // è£œå‰ç©ºä½
        for(let i=0; i<2; i++) calContainer.innerHTML += `<div></div>`;
        
        for(let i=1; i<=30; i++) {
            const hasWorkout = [3, 5, 7, 20].includes(i); // å‡è£æœ‰èª²çš„æ—¥å­
            const dot = hasWorkout ? `<span class="workout-dot">ä¸‹è‚¢è¹²</span>` : '';
            calContainer.innerHTML += `
                <div class="cal-day" onclick="openEditor()">
                    <div>${i}</div>
                    ${dot}
                </div>
            `;
        }

        navTo('student-detail');
    }

    // ç·¨è¼¯å™¨
    function openEditor() {
        document.getElementById('workout-editor').classList.add('open');
    }
    function closeEditor() {
        document.getElementById('workout-editor').classList.remove('open');
    }

</script>
</body>
</html>
